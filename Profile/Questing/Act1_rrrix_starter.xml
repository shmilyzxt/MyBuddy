<Profile>
	<!-- Special thanks to Kickazz006 for the dev copy, which this profile is based from -->
	<Name>Act 1 by rrrix </Name>
	<KillMonsters>True</KillMonsters>
	<PickupLoot>True</PickupLoot>
	<GameParams quest="87700" step="-1" act="A1" difficulty="Inferno" resumeFromSave="True" isPrivate="True" numGames="-1" />
	<!-- 
	Known stuck locations:
	* All random dungeons, searching for stairs for Royal Crypts - occasionally the MapMarker hash doesn't show up. The dungeonExplorer will eventually end, and the profile will leave the game and resume. Hopefully the next time the bot finds exitNameHash.
	* Royal Crypts: GilesTrinity will stand at the crack in the floor just before the throne room while archers shoot at you. GilesTrinity will eventually blacklist these archers and you'll continue.

	Known Issues:
	* If the player completes a quest sub step and GilesTrinity does a town-run before the bot can recognize the quest step ID has changed, the bot will get stuck (it will think it's on the previous step).
	* Bot will attempt to attack Brigands after meeting Scoundrel but they are unnattackable until talking to the quest giver
	* Interacting with the Glowing Sword Shard in the Drowned Temple will fail the first attempt. Currently the only way this works is to leave the game and retry. This is built into the profile.
	-->

	<TargetBlacklists>
		<TargetBlacklist actorId="105361" />
		<TargetBlacklist actorId="79421" />
		<TargetBlacklist actorId="177439" />
		<TargetBlacklist actorId="167185" />
		<TargetBlacklist actorId="102927" />
		<TargetBlacklist actorId="144149" />
		<TargetBlacklist actorId="92387" />
		<TargetBlacklist actorId="104545" />
		<TargetBlacklist actorId="108266" />
		<TargetBlacklist actorId="109209" />
		<TargetBlacklist actorId="5723" />
		<TargetBlacklist actorId="156058" />
		<TargetBlacklist actorId="90419" />
		<TargetBlacklist actorId="105321" />
		<TargetBlacklist actorId="102711" />
		<TargetBlacklist actorId="105323" />
		<TargetBlacklist actorId="58568" />
		<TargetBlacklist actorId="3949" />
		<TargetBlacklist actorId="5717" />
		<TargetBlacklist actorId="58568" />
		<TargetBlacklist actorId="5740" />
		<TargetBlacklist actorId="158944" />
		<TargetBlacklist actorId="167311" />
		<TargetBlacklist actorId="89579" />
		<TargetBlacklist actorId="89578" />
		<TargetBlacklist actorId="170913" />
		<TargetBlacklist actorId="5895" />
		<TargetBlacklist actorId="5896" />
		<TargetBlacklist actorId="5898" />
		<TargetBlacklist actorId="5900" />
		<TargetBlacklist actorId="116752" />
		<TargetBlacklist actorId="108882" />
		<TargetBlacklist actorId="206461" />
	</TargetBlacklists>

	<Order>
		<WaitTimer waitTime="1000" /> 
		<If condition="ZetaDia.CurrentActSNOId == 70016">
			<LogMessage message="We're in the wrong act, loading Act 2" />
			<LoadProfile profile="Act2_rrrix.xml" />
		</If>
		<If condition="ZetaDia.CurrentActSNOId == 70017">
			<LogMessage message="We're in the wrong act, loading Act 3" />
			<LoadProfile profile="Act3_rrrix.xml" />
		</If>
		<If condition="ZetaDia.CurrentActSNOId == 70018">
			<LogMessage message="We're in the wrong act, loading Act 4" />
			<LoadProfile profile="Act4_rrrix.xml" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<!-- The Fallen Star -->
			<SafeMoveTo questId="87700" stepId="-1" actorId="3739" x="2837" y="2931" z="24" />
			<!-- Pickup the quest from Captain Rumfoord -->
			<TalkTo questId="87700" stepId="-1" actorId="3739" x="2837" y="2931" z="24" />
			<WaitTimer questId="87700" stepId="-1" waitTime="1000" />
		</If>
		<While condition="IsActiveQuest(87700) and IsActiveQuestStep(66) and CurrentWorldId == 71150">
			<!-- Survive the Waves , just stay and kill anything that comes in our way. -->
			<MoveTo questId="87700" stepId="66" x="2840" y="2975" z="24" name="Zombie spawn spot" />
			<MoveTo questId="87700" stepId="66" x="2873" y="2969" z="26" name="Zombie spawn spot" />			
		</While>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(42) and CurrentWorldId == 71150">
			<SafeMoveTo questId="87700" stepId="42" x="2992" y="2785" z="24" />
			<MoveToActor questId="87700" stepId="42" actorId="178293" isPortal="True" destinationWorldId="109362" x="2992" y="2785" z="24" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(42) and CurrentWorldId == 109362">
			<!-- Talk to Leah in the inn -->
			<TalkTo questId="87700" stepId="42" x="108" y="59" z="0" actorId="4580" />
			<!-- Talk to Leah in the inn -->
			<WaitTimer questId="87700" stepId="42" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(75) and CurrentWorldId == 109362">

			<SafeMoveTo questId="87700" stepId="75" x="129" y="69" z="0" name="Infected villagers" />
			<!-- Kill the infected zombies -->
			<WaitTimer questId="87700" stepId="75" waitTime="213000" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(46) and CurrentWorldId == 109362">
			<!-- Talk to Leah again -->
			<TalkTo questId="87700" stepId="46" x="108" y="59" z="0" actorId="4580" />
			<WaitTimer questId="87700" stepId="46" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(50) and CurrentWorldId == 109362">
			<SafeMoveTo questId="87700" stepId="50" x="76" y="123" z="0" name="Town" />
			<!-- Go to Inn door -->
			<MoveToActor questId="87700" stepId="50" actorId="178293" isPortal="True" destinationWorldId="71150" x="76" y="123" z="0" />
			<!-- Get out of Inn -->
			<WaitTimer questId="87700" stepId="50" waitTime="1500" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(50) and  CurrentWorldId == 71150">
			<SafeMoveTo questId="87700" stepId="50" actorId="3739" x="2840" y="2936" z="24" />
			<!-- Talk to Captain Rumford at the gate to New Tristram -->
			<TalkTo questId="87700" stepId="50" actorId="3739" x="2840" y="2936" z="24" />
			<WaitTimer questId="87700" stepId="50" waitTime="4000" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(60) and  CurrentWorldId == 71150">
			<!-- The bot gets stuck running here and idk why, click to the right a little and it will continue -->
			<SafeMoveTo questId="87700" stepId="60" x="2794" y="2925" z="24" />
			<!-- Kill the Wretched Mother -->
			<WaitTimer questId="87700" stepId="60" waitTime="213000" />
		</If>


		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 71150">
			<!-- Check for Musty Cellar - RNG #1 -->
			<MoveToActor questId="87700" stepId="27" x="2362" y="2813" z="27" actorId="176007" interactRange="10" maxSearchDistance="50" isPortal="True" destinationWorldId="80730" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 80730">
			<!-- Inside Musty Cellar -->
			<SafeMoveTo questId="87700" stepId="27"  x="144" y="86" z="0" />
			<WaitTimer questId="87700" stepId="27"  waitTime="1500" />
			<SafeMoveTo questId="87700" stepId="27"  x="144" y="146" z="0" />
			<WaitTimer questId="87700" stepId="27"  waitTime="1500" />
			<MoveToActor  questId="87700" stepId="27" actorId="175467" x="30" y="120" z="0" isPortal="True" destinationWorldId="71150" interactRange="10" />
		</If>

		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 71150">
			<SafeMoveTo name="Damp Cellar" questId="87700" stepId="27" x="2366" y="2738" z="27"  />
			<!-- Check for Damp Cellar - RNG #2 -->
			<MoveToActor questId="87700" stepId="27" x="2292" y="2563" z="27" actorId="176007" interactRange="10" maxSearchDistance="50" isPortal="True" destinationWorldId="106752" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 106752">
			<!-- Inside Damp Cellar -->
			<SafeMoveTo questId="87700" stepId="27"  x="163" y="133" z="0" pathPrecision="5" />
			<WaitTimer questId="87700" stepId="27"  waitTime="1500" />
			<MoveToActor questId="87700" stepId="27"  actorId="175467" x="49" y="128" z="0" isPortal="True" destinationWorldId="71150" />
		</If>

		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 71150">
			<SafeMoveTo name="Wooden Cart" questId="87700" stepId="27" x="2372" y="2514" z="27"  />
			<SafeMoveTo name="Queen Spawn" questId="87700" stepId="27" x="2128" y="2533" z="27" />
			<SafeMoveTo name="Dank Cellar" questId="87700" stepId="27" x="2105" y="2486" z="27" />
			<!-- Check for Dank Cellar - RNG #3 - Sarkoth -->
			<MoveToActor questId="87700" stepId="27" x="2072" y="2482" z="27" actorId="176007" maxSearchDistance="50" isPortal="True" destinationWorldId="106746" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 106746">
			<!-- Inside Dank Cellar -->
			<SafeMoveTo questId="87700" stepId="27"  x="124" y="107" z="0" />
			<WaitTimer questId="87700" stepId="27"  waitTime="1500" />
			<SafeMoveTo questId="87700" stepId="27"  x="114" y="158" z="0" pathPrecision="2" />
			<MoveToActor questId="87700" stepId="27"  actorId="175467" x="74" y="160" z="1" isPortal="True" destinationWorldId="71150" />
		</If>

		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(27) and  CurrentWorldId == 71150">
			<!-- Kill the Wretched Queen -->
			<SafeMoveTo questId="87700" stepId="27" x="2018" y="2781" z="40" name="Wretched Queen" />
			<WaitTimer questId="87700" stepId="27" waitTime="213000" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(55) and (not Me.IsInTown)">
			<UseWaypoint questId="87700" stepId="55" actorId="192164" waypointNumber="0" x="1976" y="2785" z="42" />
			<!-- Use the old Ruins Waypoint -->
			<WaitTimer questId="87700" stepId="55" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(87700) and IsActiveQuestStep(55) and CurrentWorldId == 71150">
			<!-- Talk to Captain Rumford in New Tristram -->
			<TalkTo questId="87700" stepId="55" actorId="3739" x="2961" y="2807" z="24" />
			<WaitTimer questId="87700" stepId="55" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<!-- The Legacy of Cain -->
			<!-- Pickup the quest from Leah -->
			<TalkTo questId="72095" stepId="-1" x="2948" y="2803" z="24" actorId="4580" />
			<WaitTimer questId="72095" stepId="-1" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(7) and CurrentWorldId == 71150">
			<UseWaypoint questId="72095" stepId="7" x="2981" y="2834" z="24" actorId="223757" waypointNumber="1" />
			<!-- Use the New Tristram Waypoint to go to the Old Ruins -->
			<WaitTimer questId="72095" stepId="7" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(28) and CurrentWorldId == 71150">
			<!-- Go to the Old Tristram Gate -->
			<SafeMoveTo questId="72095" stepId="28" x="1934" y="2792" z="40" name="Old Tristram Gate" />
			<WaitTimer questId="72095" stepId="28" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(49) and CurrentWorldId == 71150">
			<!-- Find Adria's Hut -->
			<SafeMoveTo questId="72095" stepId="49" x="1781" y="2945" z="20" name="Adria's Hut" />
			<WaitTimer questId="72095" stepId="49" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(39) and CurrentWorldId == 71150">
			<!-- Search Adria's Hut -->
			<SafeMoveTo questId="72095" stepId="39" x="1761.124" y="2917.075" z="20.33314" name="Adria's Hut" />
			<WaitTimer questId="72095" stepId="39" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(41) and CurrentWorldId == 71150">
			<!-- Enter the Hidden Cellar in Adria's Hut -->
			<MoveToActor questId="72095" stepId="41" actorId="191886" isPortal="True" destinationWorldId="62751" x="155" y="43" z="0" />
			<WaitTimer questId="72095" stepId="41" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(51) and ZetaDia.Me.IsInTown">
			<!-- Use the New Tristram Waypoint to go to the Old Ruins -->
			<UseWaypoint questId="72095" stepId="51" x="2981" y="2834" z="24" actorId="223757" waypointNumber="1" />
			<WaitTimer questId="72095" stepId="51" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(51) and CurrentWorldId == 71150">
			<!-- Enter the Hidden Cellar in Adria's Hut -->
			<MoveToActor questId="72095" stepId="51" actorId="191886" isPortal="True" destinationWorldId="62751" x="155" y="43" z="0" />
			<WaitTimer questId="72095" stepId="51" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(51) and CurrentWorldId == 62751">
			<!-- Explore the Hidden Cellar -->
			<SafeMoveTo questId="72095" stepId="51" name="Hidden Cellar" x="49.96853" y="115.537" z="0.1" />
			<WaitTimer questId="72095" stepId="51" waitTime="1000" />
		</If>
		
		
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(43) and CurrentWorldId == 71150">
			<!-- Enter the Hidden Cellar in Adria's Hut //  Death Handling -->
			<MoveToActor questId="72095" stepId="43" actorId="191886" isPortal="True" destinationWorldId="62751" x="155" y="43" z="0" />
			<WaitTimer questId="72095" stepId="43" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(43) and CurrentWorldId == 62751">
			<!-- Explore the Hidden Cellar -->
			<SafeMoveTo questId="72095" stepId="43" name="Hidden Cellar" x="49.96853" y="115.537" z="0.1" />
			<!-- Kill Captain Daltyn and the Risen -->
			<WaitTimer questId="72095" stepId="43" waitTime="25000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(45) and CurrentWorldId == 62751">
			<!-- Talk to Leah in the Hidden Cellar -->
			<TalkTo questId="72095" stepId="45" actorId="203030" x="70" y="67" z="0" />
			<WaitTimer questId="72095" stepId="45" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(47) and CurrentWorldId == 62751">
			<SafeMoveTo questId="72095" stepId="47" name="Hidden Cellar Exit" x="155" y="43" z="0" />
			<!-- Cellar Exit -->
			<MoveToActor questId="72095" stepId="47" actorId="221031" isPortal="True" destinationWorldId="71150" x="155" y="43" z="0" />
			<WaitTimer questId="72095" stepId="47" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(47) and CurrentWorldId == 71150">
			<SafeMoveTo questId="72095" stepId="47" actorId="167289" x="1525" y="2720" z="56" />
			<!-- Cathedral door -->
			<MoveToActor questId="72095" stepId="47" actorId="167289" x="1525" y="2720" z="56" endAnimation="trOut_Cath_Entrance_Door_open" />
			<SafeMoveTo questId="72095" stepId="47" name="Hidden Cellar Exit" x="1476" y="2722" z="56" />
			<!-- Inside Cath -->
			<WaitTimer questId="72095" stepId="47" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(23) and CurrentWorldId == 71150">
			<MoveToActor questId="72095" stepId="23" actorId="182738" isPortal="True" destinationWorldId="50579" interactRange="30" x="1451" y="2720" z="53" />
			<!-- Enter Cathedral -->
			<WaitTimer questId="72095" stepId="23" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(11) and CurrentWorldId == 50579">
			<!-- Cathedral Level 1 - find Cain -->
			<ExploreArea  questId="72095" stepId="11" boxTolerance="0.18" boxSize="20" until="ExitFound" exitNameHash="-816183389" />
			<!-- Find Leoric's Passage -->
			<UsePortal questId="72095" stepId="11" portalMarkerHash="-816183389" destinationWorldId="60713" interactRange="20"  />
			<MoveToMapMarker questId="72095" stepId="11" actorId="168932" markerNameHash="-816183389" isPortal="True" destinationWorldId="60713" interactRange="20" />
			<!-- Leoric's Passage -->
			<WaitTimer questId="72095" stepId="11" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(11) and CurrentWorldId == 60713">
			<WaitTimer questId="72095" stepId="11" waitTime="10000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(15) and CurrentWorldId == 60713">
			<WaitTimer questId="72095" stepId="15" waitTime="5000" />
			<SafeMoveTo questId="72095" stepId="15" name="Kill Skeletons" x="119" y="188" z="0" />
			<!-- Kill Skele's Attacking Cain -->
			<WaitTimer questId="72095" stepId="15" waitTime="65000" />
		</If>
		<!-- Death Handling for Skeleton Boss -->
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(15) and CurrentWorldId == 50579">
			<UsePortal questId="72095" stepId="15" portalMarkerHash="-816183389" destinationWorldId="60713" interactRange="20"  />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(15) and CurrentWorldId == 60713">
			<SafeMoveTo questId="72095" stepId="15" name="Kill Skeletons" x="119" y="188" z="0" />
		</If>


		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(17) and CurrentWorldId == 60713">
			<!-- Talk to Cain -->
			<TalkTo questId="72095" stepId="17" actorId="102386" x="117" y="167" z="0" />
			<WaitTimer questId="72095" stepId="17" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(19) and CurrentWorldId == 60713">
			<MoveToActor questId="72095" stepId="19" actorId="188743" isPortal="True" destinationWorldId="71150" x="76" y="158" z="0" />
			<!-- Follow Cain to Cathedral Garden -->
			<WaitTimer questId="72095" stepId="19" waitTime="5000" />
			<SafeMoveTo questId="72095" stepId="19" name="Follow Cain" x="1475" y="2849" z="58" />
			<WaitTimer questId="72095" stepId="19" waitTime="5000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(32) and CurrentWorldId == 71150 and (not Me.IsInTown)">
			<WaitTimer questId="72095" stepId="32" waitTime="5000" />
			<UseWaypoint questId="72095" stepId="32" actorId="6442" waypointNumber="0" x="1475" y="2849" z="58" />
			<WaitTimer questId="72095" stepId="32" waitTime="1500" />
			<!-- Go to town -->
			<WaitTimer questId="72095" stepId="32" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72095) and IsActiveQuestStep(32) and CurrentWorldId == 71150">
			<!-- Talk to Cain -->
			<TalkTo questId="72095" stepId="32" actorId="4580" x="1477" y="2847" z="58" />
			<WaitTimer questId="72095" stepId="32" waitTime="1000" />
		</If>

		<!-- 72221 -->
		<!-- A Shattered Crown -->
		<!-- Talk to Cain -->
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<TalkTo questId="72221" stepId="-1" actorId="3533" x="1477" y="2847" z="58" />
			<WaitTimer questId="72221" stepId="-1" waitTime="5000"  />
		</If>
		<!-- Talk to Haedrig Eamon -->
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(41) and CurrentWorldId == 71150">
			<TalkTo questId="72221" stepId="41" actorId="65036" x="2938" y="2616" z="1" />
			<WaitTimer waitTime="1000" stepId="41" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(43) and CurrentWorldId == 71150">
			<!-- Mainland -->
			<SafeMoveTo questId="72221" stepId="43" name="Cellar of the Damned" pathPrecision="10" x="2786" y="2622" z="-0" />
			<WaitTimer questId="72221" stepId="43" waitTime="3000" />
			<!-- To Cellar of the Damned -->
			<MoveToActor questId="72221" stepId="43" actorId="176008" isPortal="True" destinationWorldId="136441" x="2786" y="2622" z="-0" />
			<!-- To Cellar of the Damned -->
			<WaitTimer questId="72221" stepId="43" waitTime="1000" />
		</If>

		<While condition="IsActiveQuest(72221) and IsActiveQuestStep(43) and CurrentWorldId == 136441">
			<!-- Kill Ravenous Dead -->
			<SafeMoveTo questId="72221" stepId="43" name="Ravenous Dead" pathPrecision="10" x="55" y="148" z="0" />
			<WaitTimer questId="72221" stepId="43" waitTime="1000" />
			<!-- Sometimes they tend to wander off ... -->
			<ExploreArea questId="72221" stepId="43"  />
		</While>

		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(51) and CurrentWorldId == 136441">
			<SafeMoveTo questId="72221" stepId="51" name="Mira Eamon" pathPrecision="10" x="55" y="148" z="0" />
			<!-- Kill Mira Eamon -->
			<WaitTimer  questId="72221" stepId="51" waitTime="265000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(45) and CurrentWorldId == 136441">
			<WaitTimer questId="72221" stepId="45" waitTime="5000" />
			<!-- TalkTo Haedrig -->
			<TalkTo questId="72221" stepId="45" actorId="65036" x="55" y="148" z="0" />
			<WaitTimer questId="72221" stepId="45" waitTime="8000" />

		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(35) and CurrentWorldId == 136441">
			<!-- Cellar of the Damned -->
			<MoveToActor questId="72221" stepId="35" actorId="175467" isPortal="True" destinationWorldId="71150" x="176" y="48" z="5" />
			<!-- Get out of Cellar -->
			<WaitTimer questId="72221" stepId="35" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(35) and CurrentWorldId == 71150">
			<MoveToActor questId="72221" stepId="35" actorId="121241" x="2865" y="2537" z="0" endAnimation="trOut_NewTristram_Gate_Town_open" />
			<!-- Open NW Gate -->
			<WaitTimer questId="72221" stepId="35" waitTime="1000" />
		</If>

		<!-- Get out of town -->
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(25) and CurrentWorldId == 71150 and ZetaDia.CurrentLevelAreaId == 19947">
			<SafeMoveTo questId="72221" stepId="25" x="2867" y="2498" z="3" />
			<MoveToActor questId="72221" stepId="25" actorId="241677" isPortal="True" interactRange="20" x="2867" y="2498" z="3" />
			<!-- Get out of town -->
			<WaitTimer questId="72221" stepId="25" waitTime="1000" />
		</If>
		<!-- Get out of town -->
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(25) and CurrentWorldId == 71150 and ActorExistsAt(ZetaDia.Me.ActorSNO, 2871,2578,0,75)">
			<MoveToActor questId="72221" stepId="25" actorId="241677" isPortal="True" interactRange="20" x="2867" y="2498" z="3" />
			<WaitTimer questId="72221" stepId="25" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(25) and CurrentWorldId == 71150 and not (ActorExistsAt(ZetaDia.Me.ActorSNO, 2871,2578,0,75) or ZetaDia.CurrentLevelAreaId == 19947)">
			<SafeMoveTo questId="72221" stepId="25" x="2778" pathPrecision="50" y="2228" z="-1" />
			<SafeMoveTo questId="72221" stepId="25" x="2700" pathPrecision="50" y="2167" z="0" />
			<SafeMoveTo questId="72221" stepId="25" x="2630" pathPrecision="50" y="1995" z="-1" />
			<SafeMoveTo questId="72221" stepId="25" x="2508" pathPrecision="50" y="1893" z="-1" />
			<SafeMoveTo questId="72221" stepId="25" x="2398" pathPrecision="50" y="1923" z="0" />
			<SafeMoveTo questId="72221" stepId="25" x="2314" pathPrecision="50" y="1862" z="0" />
			<SafeMoveTo questId="72221" stepId="25" name="Cemetery" pathPrecision="50" x="2193" y="1849" z="0" />
			<!-- Find Cemetery -->
			<WaitTimer questId="72221" stepId="25" waitTime="1000" />
		</If>

		<!-- Nesox Version ... -->
		<!-- Discover all the Defiled Crypt entrances. -->
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(37) and CurrentWorldId != 154587 and CurrentWorldId == 71150 and not Me.IsInTown">
			<MoveTo questId="72221" stepId="37" x="2194" y="1817" z="0" name="Cemetary Hotspot1" statusText="Cemetary Spot 1" />
			<MoveTo questId="72221" stepId="37" x="2215" y="1906" z="5" name="Cemetary Hotspot2" statusText="Cemetary Spot 2" />
			<MoveTo questId="72221" stepId="37" x="2146" y="1950" z="-4" name="Cemetary Hotspot3" statusText="Cemetary Spot 3" />
			<MoveTo questId="72221" stepId="37" x="2093" y="1949" z="-4" name="Cemetary Hotspot3" statusText="Cemetary Spot 4" />
			<MoveTo questId="72221" stepId="37" x="2058" y="1800" z="0" name="Cemetary Hotspot4" statusText="Cemetary Spot 4" />
			<!-- Then use the right one... -->
			<UsePortal questId="72221" stepId="37" portalMarkerHash="-1861222194" destinationWorldId="154587" statusText="Using portal to Defiled Crypt" />
		</If>		

		<!-- My Version -->
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(37) and CurrentWorldId == 71150">
			<!-- Cemetery Waypoint -->
			<MoveTo questId="72221" stepId="37" name="Cemetery Waypoint" pathPrecision="10" x="2161" y="1826" z="2" />
			<!-- W -->
			<MoveTo questId="72221" stepId="37" name="W Dungeon" pathPrecision="10" x="2232" y="1803" z="5" />
			<!-- N -->
			<MoveTo questId="72221" stepId="37" name="N Dungeon" pathPrecision="10" x="2046" y="1778" z="0" />
			<!-- S -->
			<MoveTo questId="72221" stepId="37" name="S Dungeon" pathPrecision="10" x="2173" y="1950" z="-4" />
			<!-- E -->
			<MoveTo questId="72221" stepId="37" name="E Dungeon" pathPrecision="10" x="2069" y="1950" z="-4" />

			<!-- East side -->
			<!--<MoveToMapMarker questId="72221" stepId="37" markerNameHash="-1861222194" actorId="176002" isPortal="True" destinationWorldId="154587" />-->
			<UsePortal questId="72221" stepId="37" portalNameHash="-1861222194" destinationWorldId="154587" />
			<WaitTimer questId="72221" stepId="37" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(37) and CurrentWorldId == 71150">
			<!-- Try again if it didn't work the first time -->
			<MoveToMapMarker questId="72221" stepId="37" markerNameHash="-1861222194" actorId="176002" interactAttempts="1" />
			<MoveToActor questId="72221" stepId="37" actorId="176002" interactAttempts="5" isPortal="True" destinationWorldId="154587" />
			<WaitTimer questId="72221" stepId="37" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(37) and CurrentWorldId == 154587">
			<!-- Real Defiled Crypt L1 -->
			<ExploreArea questId="72221" stepId="37" boxTolerance="0.18" boxSize="20" until="ExitFound" exitNameHash="-1861222193" />
			<!-- Go inside the Defiled Crypt L2 -->
			<MoveToActor questId="72221" stepId="37" actorId="176002" isPortal="True" destinationWorldId="60600"  />
			<UseObject questId="72221" stepId="37" actorId="176002" isPortal="True" destinationWorldId="60600"  />
			<WaitTimer questId="72221" stepId="37" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(37) and CurrentWorldId == 60600">
			<!-- Defiled Crypt L2 -->
			<SafeMoveTo questId="72221" stepId="37" pathPrecision="10" x="26" y="151" z="0" />
			<WaitTimer questId="72221" stepId="37" waitTime="15000" />
			<!-- Go inside Chancellor's Tomb -->
			<MoveToActor questId="72221" stepId="37" actorId="176002" isPortal="True" destinationWorldId="92126" x="26" y="151" z="0" />
			<WaitTimer questId="72221" stepId="37" waitTime="5000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(37) and CurrentWorldId == 92126">
			<!-- Chancellor's Tomb -->
			<SafeMoveTo questId="72221" stepId="37" x="256" y="581" z="0" />
			<MoveToActor questId="72221" stepId="37" actorId="159446" x="256" y="581" z="0" />
			<WaitTimer questId="72221" stepId="37" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(59) and CurrentWorldId == 92126">
			<SafeMoveTo questId="72221" stepId="59" pathPrecision="10" x="256" y="581" z="0" />
			<WaitTimer questId="72221" stepId="59" waitTime="265000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(61) and CurrentWorldId == 92126">
			<!-- Take Skele King's Crown from Altar -->
			<MoveToActor questId="72221" stepId="61" actorId="159446" x="256" y="581" z="0" />
			<WaitTimer questId="72221" stepId="61" waitTime="1000" /> 
			<MoveToActor questId="72221" stepId="61" actorId="199642" x="256" y="581" z="0" />
			<WaitTimer questId="72221" stepId="61" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(54) and CurrentWorldId == 92126">
			<!-- Use Town Portal -->
			<UseTownPortal questId="72221" stepId="54" />
			<WaitTimer waitTime="1000" questId="72221" stepId="54"/>
		</If>
		<If condition="IsActiveQuest(72221) and IsActiveQuestStep(54) and CurrentWorldId == 71150">
			<!-- Talk to Haedrig -->
			<SafeMoveTo questId="72221" stepId="54" actorId="56947" x="2943" y="2844" z="24" />
			<TalkTo questId="72221" stepId="54" actorId="56947" x="2943" y="2844" z="24" />
			<WaitTimer questId="72221" stepId="54" waitTime="25000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<!-- Reign of the Black King -->
			<!-- Talk to Deckard Cain -->
			<TalkTo questId="72061" stepId="-1" actorId="3533" x="2948" y="2798" z="24" />
			<WaitTimer questId="72061" stepId="-1" waitTime="25000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(30) and CurrentWorldId == 71150">
			<!-- Tristram to Cathedral Garden -->
			<UseWaypoint questId="72061" stepId="30" actorId="223757" waypointNumber="2" x="2980" y="2833" z="24" />
			<WaitTimer questId="72061" stepId="30" waitTime="3000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(28) and CurrentWorldId == 71150">
			<!-- Go into Leoric's Passage -->
			<MoveToActor questId="72061" stepId="28" actorId="176002" isPortal="True" destinationWorldId="60713" x="2980" y="2833" z="24" />
			<WaitTimer questId="72061" stepId="28" waitTime="3000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(3) and CurrentWorldId == 60713">
			<!-- Use Ornate Door -->
			<SafeMoveTo questId="72061" stepId="3" actorId="156058" x="14" y="226" z="-24" />
			<MoveToActor questId="72061" stepId="3" actorId="156058" x="14" y="226" z="-24" timeout="10" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(3) and CurrentWorldId == 60713">
			<WaitTimer questId="72061" stepId="3" waitTime="10000" />
			<!-- Enter the Ornate Door: Go to Cathedral Level 2 -->
			<MoveToActor questId="72061" stepId="3" actorId="176001" isPortal="True" destinationWorldId="50582" x="6" y="225" z="-24" />
			<WaitTimer questId="72061" stepId="3" waitTime="1000" />
		</If>
		<!-- Ornate door death handling... I think? Not sure why i wrote this. -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(6) and CurrentWorldId == 60713">
			<MoveToActor questId="72061" stepId="6" actorId="176001" isPortal="True" destinationWorldId="50582" x="6" y="225" z="-24" />
			<WaitTimer questId="72061" stepId="6" waitTime="1000" />
		</If>
		<!-- Cathedral Level 2 -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(6) and CurrentWorldId == 50582">
			<!-- Generated -->
			<ExploreArea  questId="72061" stepId="6" boxTolerance=".18" boxSize="18" until="ExitFound" exitNameHash="1016504366" />
			<WaitTimer questId="72061" stepId="6" waitTime="1000" />
			<!-- Go to Cathedral Level 3 -->
			<UsePortal questId="72061" stepId="6" exitNameHash="1016504366" destinationWorldId="105406" interactRange="20" />
			<WaitTimer questId="72061" stepId="6" waitTime="1000" />
		</If>
		<!-- Cathedral Level 2 Stuck handling -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(6) and CurrentWorldId == 50582">
			<LeaveGame reason="Stuck in Cathedral Level 2" />
			<WaitTimer questId="72061" stepId="6" waitTime="1000" />
		</If>
		<!-- Cathedral Level 3 -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(6) and CurrentWorldId == 105406">
			<!-- Generated -->
			<ExploreArea questId="72061" stepId="6" until="ObjectFound" actorId="104813" boxSize="18" boxTolerance="0.18" />
			<MoveToActor questId="72061" stepId="6" actorId="104813" />
			<WaitTimer questId="72061" stepId="6" waitTime="1000" />
			<!-- Introduce yourself to the Warrior -->
			<TalkTo questId="72061" stepId="6" actorId="104813" />
			<WaitTimer questId="72061" stepId="6" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(37) and CurrentWorldId == 105406">
			<TalkTo questId="72061" stepId="37" actorId="104813" />
			<WaitTimer questId="72061" stepId="37" waitTime="1000" />
			<!-- Warrior will join you -->
			<TalkTo questId="72061" stepId="37" actorId="104813" />
			<WaitTimer questId="72061" stepId="37" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(40) and CurrentWorldId == 105406">
			<!-- Find Chest -->
			<ExploreArea questId="72061" stepId="40" until="ObjectFound" actorId="178657" boxTolerance="0.18" boxSize="18" ignoreGridReset="True" />
			<WaitTimer questId="72061" stepId="40" waitTime="1000" />
			<!-- Open Chest -->
			<MoveToActor questId="72061" stepId="40" actorId="178657" />
			<WaitTimer questId="72061" stepId="40" waitTime="5000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(42) and CurrentWorldId == 105406">
			<!-- Kill Jondar -->
			<ExploreArea questId="72061" stepId="42" until="ObjectFound" actorId="86624" boxTolerance="0.18" boxSize="18" ignoreGridReset="True" />
			<MoveToActor questId="72061" stepId="42" actorId="86624" interactRange="20" interactAttempts="-1" />
			<WaitTimer questId="72061" stepId="42" waitTime="210000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(42) and CurrentWorldId == 105406">
			<ExploreArea questId="72061" stepId="42" until="ExitFound" exitNameHash="-398557669" boxTolerance="0.18" boxSize="18" ignoreGridReset="True" />
			<MoveToMapMarker questId="72061" stepId="42" markerNameHash="-398557669" actorId="176001" />
			<WaitTimer questId="72061" stepId="42" waitTime="1000" />
		</If>

		<While condition="IsActiveQuest(72061) and IsActiveQuestStep(42) and CurrentWorldId == 105406">
			<MoveToActor questId="72061" stepId="42" actorId="86624" interactRange="20" interactAttempts="5" />
			<WaitTimer questId="72061" stepId="42" waitTime="10000" />
		</While>

		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(56) and CurrentWorldId == 105406">
			<!-- Jondar -->
			<MoveToActor questId="72061" stepId="56" actorId="86624" interactRange="20" interactAttempts="5" />
			<WaitTimer questId="72061" stepId="56" waitTime="1000" />
			<MoveToMapMarker questId="72061" stepId="56" actorId="176001" markerNameHash="-398557669" />
			<WaitTimer questId="72061" stepId="56" waitTime="10000" />
		</If>

		<!-- Jondar is dead, continue to Level 4 -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 105406">
			<ExploreArea questId="72061" stepId="44" until="ExitFound" actorId="86624" exitNameHash="-398557669" boxTolerance="0.18" boxSize="18" ignoreGridReset="True" />
			<UsePortal questId="72061" stepId="44" portalNameHash="-398557669" destinationWorldId="50584" />
			<MoveToMapMarker questId="72061" stepId="44" actorId="176001" markerNameHash="-398557669" isPortal="True" destinationWorldId="50584"  />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
			<MoveToMapMarker questId="72061" stepId="44" actorId="176001" markerNameHash="0" isPortal="True" destinationWorldId="50584"  />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<!-- Stuck in Cathedral Level 3 -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 105406">
			<LeaveGame reason="Stuck in Cathedral Level 3" /> 
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<!-- Cathedral Level 4 -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<ExploreArea  questId="72061" stepId="44" boxTolerance="0.18" boxSize="18" until="ExitFound" actorId="175467" exitNameHash="-267501090" />
			<!-- Enter The Royal Crypts -->
			<MoveToMapMarker questId="72061" stepId="44" actorId="175467" markerNameHash="-267501090" isPortal="True" destinationWorldId="50585"  />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<!-- Cathedral Level 4 - if we're standing next to the portal -->
			<MoveToActor questId="72061" stepId="44" actorId="175467" isPortal="True" destinationWorldId="50585" />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<!-- Cathedral Level 4 Map Marker Handling -->
			<!-- Sometimes this can be an orange portal -->
			<MoveToMapMarker questId="72061" stepId="44" actorId="176001" markerNameHash="-267501090" isPortal="True" destinationWorldId="50585"  />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<!-- Cathedral Level 4 - if we're standing next to the portal -->
			<MoveToActor questId="72061" stepId="44" actorId="176001" isPortal="True" destinationWorldId="50585" />
			<WaitTimer questId="72061" stepId="44" waitTime="5000" />
			<!--<WaitTimer questId="72061" stepId="44" waitTime="864000000" statusText="Dungeon Explorer Error: FIND EXIT MANUALLY!" />-->
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<!-- Cathedral Level 4 Map Marker Handling -->
			<MoveToMapMarker questId="72061" stepId="44" actorId="175467" markerNameHash="0" isPortal="True" destinationWorldId="50585"  />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<!-- Cathedral Level 4 Map Marker Handling -->
			<MoveToMapMarker questId="72061" stepId="44" actorId="176001" markerNameHash="0" isPortal="True" destinationWorldId="50585"  />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50584">
			<!-- If DB couldn't find the map marker -->
			<LogMessage questId="72061" stepId="44" output="ERROR: COULD NOT FIND DUNGEON EXIT -267501090" logLevel="Normal" />"
			<LeaveGame reason="Stuck in Cathedral Level 4" />
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</If>
		<While condition="IsActiveQuest(72061) and IsActiveQuestStep(44) and CurrentWorldId == 50585">
			<WaitTimer questId="72061" stepId="44" waitTime="1000" />
		</While>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(66) and CurrentWorldId == 50585">
			<!-- The Royal Crypts -->
			<!-- Pillars -->
			<SafeMoveTo questId="72061" stepId="44" x="628" y="573" z="0" />
			<WaitTimer questId="72061" stepId="44" waitTime="25000" />
			<!-- force move to door, ignore skeletons 
			[00:35:06.332 N] [37ED776C] GizmoType: Door Name: trDun_Cath_Gate_D-2243 ActorSNO: 5767 Distance: 14.3267 Position: <550.1918, 536.5969, 0.2680054> Barracade: False Radius: 12.9823 -->
			<MoveToActor questId="72061" stepId="44" interactRange="15" x="548" y="541" z="0" actorId="5767" endAnimation="trDun_Cath_Gate_D_Open" />
			<SafeMoveTo questId="72061" stepId="44" pathPrecision="10" x="530" y="485" z="6" />
			<MoveToActor questId="72061" stepId="44" interactRange="15" x="505" y="533" z="0" actorId="5767" endAnimation="trDun_Cath_Gate_D_Open" />

			<SafeMoveTo questId="72061" stepId="66" name="Skeleton King Crypt Door" pathPrecision="10" x="343" y="481" z="0"/>
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(16) and CurrentWorldId == 50585">
			<!-- Open Onate Door to Skeleton King Tomb -->
			<!-- Door to Portal -->
			<MoveToActor questId="72061" stepId="16" actorId="5944" x="343" y="481" z="0" endAnimation="trDun_SkeletonKIng_Sealed_Door_Open"  />
			<WaitTimer questId="72061" stepId="16" waitTime="6000" />
			<!-- Portal to Skeleton King Tomb -->
			<MoveToActor questId="72061" stepId="16" actorId="159573" isPortal="True" destinationWorldId="73261" x="343" y="481" z="0" />
			<WaitTimer questId="72061" stepId="16" waitTime="15000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(16) and CurrentWorldId == 73261">
			<WaitTimer questId="72061" stepId="16" waitTime="10000" />
		</If>
		<While condition="IsActiveQuest(72061) and IsActiveQuestStep(58) and CurrentWorldId == 73261">
			<!-- Cutscene -->
			<!-- Kill the Returned -->
			<WaitTimer questId="72061" stepId="58" waitTime="2000" />
			<SafeMoveTo questId="72061" stepId="58" name="Kill the Returned" pathPrecision="10" x="252" y="398" z="0" />
			<WaitTimer questId="72061" stepId="58" waitTime="2000" />
			<SafeMoveTo questId="72061" stepId="58" name="Kill the Returned" pathPrecision="10" x="289" y="427" z="0" />
		</While>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(19) and CurrentWorldId == 73261">
			<!-- Place Leoric's crown on the Skeleton King -->
			<MoveToActor questId="72061" stepId="19" actorId="5354" x="340" y="262" z="18" />
			<WaitTimer questId="72061" stepId="19" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(21) and CurrentWorldId == 50585">
			<!-- Skeleton King Death Handling -->
			<MoveToActor questId="72061" stepId="21" actorId="159573" isPortal="True" destinationWorldId="73261" x="343" y="481" z="0" />
			<WaitTimer questId="72061" stepId="21" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(21) and CurrentWorldId == 73261">
			<!-- Death Handling: Place Leoric's crown on the Skeleton King -->
			<MoveToActor questId="72061" stepId="21" actorId="5354" x="340" y="262" z="18" />
			<WaitTimer questId="72061" stepId="21" waitTime="1000" />
		</If>

		<While condition="IsActiveQuest(72061) and IsActiveQuestStep(21) and CurrentWorldId == 73261">
			<!-- Kill the Skeleton King -->
			<SafeMoveTo questId="72061" stepId="21" name="Kill the Skeleton King" pathPrecision="10" x="339" y="271" z="15" />
			<WaitTimer questId="72061" stepId="21" waitTime="1000" />
		</While>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(48) and CurrentWorldId == 73261">
			<!-- Go in Desolate Chamber -->
			<MoveToActor questId="72061" stepId="48" actorId="175467" isPortal="True" destinationWorldId="117405" x="339" y="251" z="21" />
			<WaitTimer questId="72061" stepId="48" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(50) and CurrentWorldId == 117405">
			<!-- TalkTo Stranger in Desolate Chamber -->
			<TalkTo questId="72061" stepId="50" actorId="180900" x="379" y="360" z="0" />
			<WaitTimer questId="72061" stepId="50" waitTime="1000" />

			<WaitTimer questId="72061" stepId="50" waitTime="1000" />
		</If>
		<!-- Return to New Tristram Via Desolate Chamber Waypoint #5 -->
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(52) and CurrentWorldId == 117405">
			<UseWaypoint questId="72061" stepId="52" actorId="6442" waypointNumber="0" x="421" y="259" z="7" />
			<WaitTimer questId="72061" stepId="52" waitTime="2500" />
		</If>
		<If condition="IsActiveQuest(72061) and IsActiveQuestStep(54) and CurrentWorldId == 71150">
			<!-- Talk to Cain -->
			<TalkTo questId="72061" stepId="54" actorId="3533" x="2951" y="2797" z="24" />
			<WaitTimer questId="72061" stepId="54" waitTime="9000" />
		</If>

		<!-- Sword of the Stranger -->
		<!-- Talk to Cain -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<TalkTo questId="117779" stepId="-1" actorId="3533" x="2951" y="2797" z="24" />
			<WaitTimer questId="117779" stepId="-1" waitTime="1000" />
			<!-- Force Sell while we're here -->
		</If>
		<!-- Go to cemetery of the Forsaken Waypoint #6 -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(1) and CurrentWorldId == 71150 and (Me.IsInTown)">
			<UseWaypoint questId="117779" stepId="1" actorId="223757" waypointNumber="6" x="2982" y="2837" z="24" />
			<WaitTimer questId="117779" stepId="1" waitTime="1000" />
		</If>
		<!-- Go to the Fields of Misery -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(1) and CurrentWorldId == 71150">
			<SafeMoveTo questId="117779" stepId="1" name="Fields of Misery" pathPrecision="10" x="2093" y="1479" z="0" />
			<WaitTimer questId="117779" stepId="1" waitTime="1000" />
		</If>

		<!-- Find Khazra Den #1-->
		<If condition="IsActiveQuest(117779) and (IsActiveQuestStep(10) or IsActiveQuestStep(3)) and CurrentWorldId == 71150">
			<SafeMoveTo questId="117779" stepId="10" x="2068" y="899" z="-0" />
			<SafeMoveTo questId="117779" stepId="3" x="2068" y="899" z="-0" />
		</If>
		<!-- Enter Khazra Den #1 -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(3) and CurrentWorldId == 71150
					and ActorExistsAt(176003, 2068, 899, 0, 50)">
			<MoveToActor questId="117779" stepId="3" actorId="176003" isPortal="True" destinationWorldId="119888" x="2068" y="899" z="-0" />
			<WaitTimer questId="117779" stepId="3" waitTime="2500" />
		</If>


		<!-- Find Khazra Den #2 -->
		<If condition="IsActiveQuest(117779) and (IsActiveQuestStep(10) or IsActiveQuestStep(3)) and CurrentWorldId == 71150">
			<SafeMoveTo questId="117779" stepId="10" x="1768" y="359" z="-0" />
			<SafeMoveTo questId="117779" stepId="3" x="1768" y="359" z="-0" />
		</If>
		<!-- Enter Khazra Den #2 -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(3) and CurrentWorldId == 71150
					and ActorExistsAt(176003, 1768, 359, 0, 50)">
			<MoveToActor questId="117779" stepId="3" actorId="176003" isPortal="True" destinationWorldId="119888" x="1768" y="359" z="-0" />
			<WaitTimer questId="117779" stepId="3" waitTime="2500" />
		</If>


		<!-- Find Khazra Den #3 -->
		<If condition="IsActiveQuest(117779) and (IsActiveQuestStep(10) or IsActiveQuestStep(3)) and CurrentWorldId == 71150">
			<SafeMoveTo questId="117779" stepId="10" x="2129" y="597" z="-0" />
			<SafeMoveTo questId="117779" stepId="3" x="2129" y="597" z="-0" />
		</If>
		<!-- Enter Khazra Den #3 -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(3) and CurrentWorldId == 71150
					and ActorExistsAt(176003, 2129, 597, 0, 50)">
			<MoveToActor questId="117779" stepId="3" actorId="176003" isPortal="True" destinationWorldId="119888" x="2129" y="597" z="-0" />
			<WaitTimer questId="117779" stepId="3" waitTime="2500" />
		</If>

		<!-- Find Khazra Den #4 -->
		<If condition="IsActiveQuest(117779) and (IsActiveQuestStep(10) or IsActiveQuestStep(3)) and CurrentWorldId == 71150">
			<SafeMoveTo questId="117779" stepId="10" x="2258" y="1059" z="-0" />
			<SafeMoveTo questId="117779" stepId="3" x="2258" y="1059" z="-0" />
		</If>
		<!-- Enter Khazra Den #4 -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(3) and CurrentWorldId == 71150
					and ActorExistsAt(176003, 2258, 1059, 0, 50)">
			<MoveToActor questId="117779" stepId="3" actorId="176003" isPortal="True" destinationWorldId="119888" x="2258" y="1059" z="-0" />
			<WaitTimer questId="117779" stepId="3" waitTime="2500" />
		</If>

		<!-- Inside Khazra Den -->	
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(3) and CurrentWorldId == 119888">
			<ExploreArea questId="117779" stepId="3" until="ObjectFound" actorId="206527" boxTolerance=".18" boxSize="18" />
			<WaitTimer questId="117779" stepId="3" waitTime="1000" />
			<MoveToActor questId="117779" stepId="3" actorId="206527" interactAttempts="-1" />
		</If>
		<!-- Kill Cultists -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(18) and CurrentWorldId == 119888">
			<ExploreArea questId="117779" stepId="18" until="ObjectFound" actorId="206527" boxTolerance=".18" boxSize="18" />
			<WaitTimer questId="117779" stepId="18" waitTime="30000" />
		</If>

		<!-- Take the Glowing Sword Shard -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(13) and CurrentWorldId == 119888">
			<MoveToActor questId="117779" stepId="13" actorId="206527" endAnimation="trDun_Cave_SwordOfJustice_Shard_opening" />
			<WaitTimer questId="117779" stepId="13" waitTime="5000" />
		</If>

		<!-- Portal Home -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(5) and CurrentWorldId == 119888">
			<UseTownPortal questId="117779" stepId="5" />
			<WaitTimer questId="117779" stepId="5" waitTime="2500" />
		</If>
		<!-- Talk to Cain -->
		<If condition="IsActiveQuest(117779) and IsActiveQuestStep(5) and CurrentWorldId == 71150">
			<TalkTo questId="117779" stepId="5" actorId="3533" x="2951" y="2797" z="24" />
			<WaitTimer questId="117779" stepId="5" waitTime="30000" />
		</If>

		<!-- 72738 -->

		<!-- The Broken Blade -->
		<!-- Talk to Leah -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<TalkTo questId="72738" stepId="-1" actorId="4580" x="2939" y="2799" z="24" />
			<WaitTimer questId="72738" stepId="-1" waitTime="2500" />
		</If>
		<!-- Use Waypoint to Fields of Misery -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(86) and CurrentWorldId == 71150 and ZetaDia.Me.IsInTown">
			<UseWaypoint questId="72738" stepId="86" actorId="223757" waypointNumber="7" x="2981" y="2834" z="24" />
			<WaitTimer questId="72738" stepId="86" waitTime="2500" />
		</If>
		<!-- Help Scoundrel -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(86) and CurrentWorldId == 71150 and (not ZetaDia.Me.IsInTown)">
			<ToggleTargeting questId="72738" stepId="86"  combat="False" />
			<SafeMoveTo questId="72738" stepId="86" actorId="80812" x="1545" y="857" z="37" />
			<MoveToActor questId="72738" stepId="86" actorId="80812" x="1545" y="857" z="37" />
			<WaitTimer questId="72738" stepId="86" waitTime="8000" />
		</If>
		<While condition="IsActiveQuest(72738) and IsActiveQuestStep(88) and CurrentWorldId == 71150">
			<ToggleTargeting questId="72738" stepId="88" combat="False" />
			<!-- Talk to Brigand -->
			<TalkTo questId="72738" stepId="88" actorId="177539" x="1486" y="823" z="40" interactAttempts="8" />

		</While>
		<While condition="IsActiveQuest(72738) and IsActiveQuestStep(90) and CurrentWorldId == 71150">
			<ToggleTargeting questId="72738" stepId="90"  combat="False" killRadius="0" />
			<MoveToActor questId="72738" stepId="90" actorId="177539" x="1486" y="823" z="40" />
		</While>
		<!-- Kill the Brigands -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(92) and CurrentWorldId == 71150">
			<ToggleTargeting questId="72738" stepId="92"  combat="True" />
			<SafeMoveTo questId="72738" stepId="92" name="Kill Brigands" pathPrecision="10" x="1488" y="823" z="40" />
			<WaitTimer questId="72738" stepId="92" waitTime="165000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(94) and CurrentWorldId == 71150">
			<!-- Talk to Scoundrel -->
			<TalkTo questId="72738" stepId="94" actorId="80812" x="1488" y="823" z="40" />
			<WaitTimer questId="72738" stepId="94" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(112) and CurrentWorldId == 71150">
			<SafeMoveTo questId="72738" stepId="112" name="North Waypoint" pathPrecision="10" x="1262" y="827" z="63" />
			<!-- Go To North Waypoint -->
			<WaitTimer questId="72738" stepId="112" waitTime="5000" />
			<!-- Wait for him to talk -->
			<TalkTo questId="72738" stepId="112" actorId="80812" x="1277" y="804" z="61" />
			<!-- Talk to Scoundrel -->
			<WaitTimer questId="72738" stepId="112" waitTime="10000" />
			<!-- Wait for him to talk -->
			<!-- Click No for Scoundrel to join you; or Yes if you like -->
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(8) and CurrentWorldId == 71150">
			<SafeMoveTo questId="72738" stepId="8" name="Drowned Temple Entrance" pathPrecision="10" x="1255" y="746" z="44" />
			<!-- Drowned Temple Entrance -->
			<WaitTimer questId="72738" stepId="8" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(26) and ZetaDia.Me.IsInTown">
			<UseWaypoint questId="72738" stepId="26" actorId="223757" waypointNumber="8" x="2981" y="2836" z="24" />
			<!-- Talk to Alaric -->
			<WaitTimer questId="72738" stepId="26" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(26) and CurrentWorldId == 71150">
			<TalkTo questId="72738" stepId="26" actorId="108882" x="1255" y="689" z="10" />
			<!-- Talk to Alaric -->
			<WaitTimer questId="72738" stepId="26" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(28) and CurrentWorldId == 71150">
			<SafeMoveTo questId="72738" stepId="28" x="1203" y="741" z="44" />
			<WaitTimer questId="72738" stepId="28" waitTime="1500" />
			<SafeMoveTo questId="72738" stepId="28" x="1162" y="739" z="50"  />
			<WaitTimer questId="72738" stepId="28" waitTime="3500" />
			<SafeMoveTo questId="72738" stepId="28" pathPrecision="10" x="1021" y="742" z="40" />
			<!-- Festering Woods -->
			<WaitTimer questId="72738" stepId="28" waitTime="1000" />
		</If>
		<!-- Step 12 has 2 tasks - or I have 2 steps at once... I dunno! -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150">
			<!-- Find Crypt of the Ancients #1 -->
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="60394" x="576" y="881" z="20" maxSearchDistance="50" />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150">
			<!-- Find Crypt of the Ancients #2 -->
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="60394" x="320" y="876" z="15" maxSearchDistance="50" />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150">
			<!-- Find Crypt of the Ancients #3 -->
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="60394" x="445" y="880" z="18" maxSearchDistance="50"  />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 60394">
			<SafeMoveTo questId="72738" stepId="12" x="147" y="339" z="-14"/>
			<!-- If we're in Crypt of the Ancients -->
			<MoveToActor questId="72738" stepId="12" actorId="215512" x="147" y="339" z="-14" endAnimation="Altar_A_Chest_03_open" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 60394">
			<!-- Beacon of Light -->
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
			<SafeMoveTo questId="72738" stepId="12" x="269" y="176" z="-1" />
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="71150" x="269" y="176" z="-1" />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>
		<!-- Shortcut!! Use Town Portal -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(14) and CurrentWorldId == 60394">
			<UseTownPortal questId="72738" stepId="14" />
			<WaitTimer questId="72738" stepId="14" waitTime="2500" />
		</If>

		<!-- CustomBehavior here -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150
						and ActorExistsAt(176008, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 75)">
			<CustomBehavior questId="72738" stepId="12" />
		</If>

		<!--  Warriors Rest #1 -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150">
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="60393" x="404" y="678" z="15" maxSearchDistance="50" />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>

		<!-- Warrior's Rest #2 -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150">
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="60393" x="522" y="665" z="15" maxSearchDistance="50" />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>

		<!-- Warrior's Rest #3 -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 71150">
			<MoveToActor questId="72738" stepId="12" actorId="176008" isPortal="True" destinationWorldId="60393" x="282" y="665" z="15" maxSearchDistance="50" />
			<WaitTimer questId="72738" stepId="12" waitTime="1000" />
		</If>

		<!-- We're in Warrior's Rest -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(12) and CurrentWorldId == 60393">
			<!-- Beacon of Honor -->
			<MoveToActor questId="72738" stepId="12" actorId="215434" x="151" y="378" z="0" endAnimation="Altar_A_Chest_03_open" />
			<WaitTimer questId="72738" stepId="14" waitTime="2500" />
		</If>

		<!-- Shortcut!! Use Town Portal -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(14) and CurrentWorldId == 60393">
			<UseTownPortal questId="72738" stepId="14" />
			<WaitTimer questId="72738" stepId="14" waitTime="2500" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(14) and CurrentWorldId == 71150 and ZetaDia.Me.IsInTown">
			<UseWaypoint questId="72738" stepId="14" waypointNumber="8" x="2982" y="2834" z="24" />
			<WaitTimer questId="72738" stepId="14" waitTime="2500" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(14) and CurrentWorldId == 71150">
			<!-- 1/2 Beacons Placed on Pedestals -->
			<MoveToActor questId="72738" stepId="14" actorId="61459" x="1206" y="691" z="40"  ignoreMobs="True" maxSearchDistance="25" endAnimation="trOut_TristamFields_Nephalem_HiddenBridgeSwitch_A_idle" />
			<WaitTimer questId="72738" stepId="14"  waitTime="1000" />
			<SafeMoveTo questId="72738" stepId="14" x="1205" y="702" z="40" />

			<!-- 2/2 Beacons Placed on Pedestals -->
			<MoveToActor questId="72738" stepId="14" actorId="63114" x="1308" y="690" z="40" ignoreMobs="True" maxSearchDistance="25" endAnimation="trOut_TristamFields_Nephalem_HiddenBridgeSwitch_A_idle"  />
			<WaitTimer questId="72738" stepId="14"  waitTime="5000" />
			<SafeMoveTo questId="72738" stepId="14" x="1308" y="700" z="40" />
		</If>

		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(14) and CurrentWorldId == 71150">
			<LeaveGame reason="Beacons are bugged out, stuck on Quest 72738 step 14" />
		</If>

		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(30) and CurrentWorldId == 71150">
			<!-- Enter the Drowned Temple -->
			<SafeMoveTo questId="72738" stepId="30" x="1308" y="700" z="40" />
			<MoveToActor questId="72738" stepId="30" actorId="175482" isPortal="True" destinationWorldId="60395" x="1259" y="656" z="5" />
			<WaitTimer questId="72738" stepId="30" waitTime="1000" />
		</If>
		<!-- Explore the Drowned Temple -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(38) and CurrentWorldId == 60395">
			<SafeMoveTo questId="72738" stepId="38" name="Explore the Drowned Temple" pathPrecision="10" x="284" y="277" z="-76" />
			<WaitTimer questId="72738" stepId="38" waitTime="1000" />
		</If>
		<!-- Kill ezek the prophet and the skeletons -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(69) and CurrentWorldId == 60395">
			<SafeMoveTo questId="72738" stepId="69" name="Explore the Drowned Temple" pathPrecision="10" x="284" y="277" z="-76" />
			<WaitTimer questId="72738" stepId="69" waitTime="165000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(99) and CurrentWorldId == 60395">
			<!-- Talk to Alaric -->
			<TalkTo questId="72738" stepId="99" actorId="108882" x="284" y="277" z="-76" />
			<WaitTimer questId="72738" stepId="99" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(103) and CurrentWorldId == 60395">
			<SafeMoveTo questId="72738" stepId="103" x="164" y="256" z="-70" />
			<WaitTimer questId="72738" stepId="103" waitTime="15000" />
		</If>
		<!-- Get Glowing Sword Shard -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(71) and CurrentWorldId == 60395">
			<MoveToActor questId="72738" stepId="71" actorId="206461" x="164" y="256" z="-70" endAnimation="trDun_Cave_SwordOfJustice_Shard_opening" />
			<WaitTimer questId="72738" stepId="71" waitTime="7000" />
		</If>

		<!-- for some reason this never works the first time -->
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(71) and CurrentWorldId == 60395">
			<LeaveGame reason="Stuck in Drowned Temple - unable to interact with Glowing Sword Shard" />
		</If>
		<If condition="IsActiveQuest(72738) and IsActiveQuestStep(56) and CurrentWorldId == 60395">

			<MoveTo questId="72738" stepId="56"  x="240" y="248" z="-76" />
			<UseTownPortal questId="72738" stepId="56" />
			<WaitTimer questId="72738" stepId="56" waitTime="1000" />
		</If>

		<!-- 73236 -->

		<!-- The Doom in Wortham -->
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<MoveToActor questId="73236" stepId="-1" actorId="117365" x="2943" y="2791" z="24" />
			<!-- Talk to The Stranger -->
			<WaitTimer questId="73236" stepId="-1" waitTime="1000" />
			<!-- sell / repair / stash while we're here -->
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(34) and CurrentWorldId == 71150">
			<SafeMoveTo questId="73236" stepId="34" actorId="153019" x="3128" y="2599" z="1" />
			<!-- Talk to the Ferryman -->
			<MoveToActor questId="73236" stepId="34" actorId="153019" x="3128" y="2599" z="1" />
			<WaitTimer questId="73236" stepId="34" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(20) and CurrentWorldId == 72882">
			<!-- WE ARE NOW IN WORTHAM -->
			<SafeMoveTo questId="73236" stepId="20" name="Center of Wortham" pathPrecision="10" x="582" y="579" z="70" />
			<!-- Go to center of Wortham -->
			<WaitTimer questId="73236" stepId="20" waitTime="65000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(59) and CurrentWorldId == 72882">
			<SafeMoveTo questId="73236" stepId="59" name="Center of Wortham" pathPrecision="10" x="582" y="579" z="70" />
			<!-- Kill mobs outside of chapel -->
			<WaitTimer questId="73236" stepId="59" waitTime="65000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(11) and CurrentWorldId == 72882">
			<SafeMoveTo questId="73236" stepId="11" name="Center of Wortham" pathPrecision="10" x="582" y="579" z="70" />
			<!-- Kill Urzel Mordreg -->
			<WaitTimer questId="73236" stepId="11" waitTime="165000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(16) and CurrentWorldId == 72882">
			<SafeMoveTo questId="73236" stepId="16" name="Center of Wortham" pathPrecision="10" x="582" y="579" z="70" />
			<!-- Kill 3 Dark Berserkers outside of chapel -->
			<WaitTimer questId="73236" stepId="16" waitTime="65000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(63) and CurrentWorldId == 72882">
			<TalkTo questId="73236" stepId="63" actorId="140867" x="545" y="590" z="70" />
			<!-- Talk to the Priest -->
			<WaitTimer questId="73236" stepId="63" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(65) and CurrentWorldId == 72882">
			<MoveToActor questId="73236" stepId="65" actorId="176008" isPortal="True" destinationWorldId="167721" x="514" y="583" z="70" />
			<!-- Go inside of the Wortham Chapel Cellar -->
			<WaitTimer questId="73236" stepId="65" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(67) and CurrentWorldId == 167721">
			<SafeMoveTo questId="73236" stepId="67" name="Search for the Sword Hilt" pathPrecision="10" x="55" y="147" z="0" />
			<!-- Search for the Sword Hilt & get waypoint -->
			<WaitTimer questId="73236" stepId="67" waitTime="15000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(69) and CurrentWorldId == 167721">
			<WaitTimer questId="73236" stepId="69" waitTime="4000" />
			<!-- Use Waypoint #10 to go back to Cain's House -->
			<UseWaypoint questId="73236" stepId="69" actorId="6442" waypointNumber="0" x="55" y="147" z="0" />
			<!-- Wortham Chapel Center -->
			<WaitTimer questId="73236" stepId="69" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(69) and CurrentWorldId == 71150">
			<!-- If we're in mainland -->
			<MoveToActor questId="73236" stepId="69" actorId="159578" isPortal="True" destinationWorldId="174449" x="2920" y="2781" z="24" />
			<WaitTimer questId="73236" stepId="69" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(73236) and IsActiveQuestStep(69) and CurrentWorldId == 174449">
			<WaitTimer questId="73236" stepId="69" waitTime="15000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(-1) and CurrentWorldId == 71150">
			<!-- Trailing the Coven -->
			<TalkTo questId="72546" stepId="-1" actorId="4580" x="2948" y="2794" z="24" />
			<!-- Talk to Leah -->
			<WaitTimer questId="72546" stepId="-1" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(8) and CurrentWorldId == 71150">
			<!-- If we're in mainland -->
			<UseWaypoint questId="72546" stepId="8" actorId="223757" waypointNumber="10" x="2981" y="2834" z="24" />
			<!-- Use Waypoint to Wortham Chapel Cellar -->
			<WaitTimer questId="72546" stepId="8" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(8) and CurrentWorldId == 167721">
			<!-- Wortham Chapel Cellar to Wortham -->
			<MoveToActor questId="72546" stepId="8" actorId="175467" isPortal="True" destinationWorldId="72882" x="173" y="51" z="4" />
			<!-- To Wortham -->
			<WaitTimer questId="72546" stepId="8" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(8) and CurrentWorldId == 72882">
			<MoveToActor questId="72546" stepId="8" actorId="92021" x="482" y="519" z="70" endAnimation="trOut_NewTristram_Gate_Town_open" />
			<SafeMoveTo questId="72546" stepId="8" name="Caverns of Araneae" pathPrecision="10" x="217" y="319" z="26" />
			<MoveToActor questId="72546" stepId="8" actorId="175482" isPortal="True" destinationWorldId="180550" x="217" y="319" z="26" />
			<WaitTimer questId="72546" stepId="8" waitTime="5000" />
		</If>

		<!-- Explore Caverns of Araneae -->
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(17) and CurrentWorldId == 180550">
			<!-- Chamber of Queen Araneae -->
			<ExploreArea questId="72546" stepId="17" boxTolerance="0.18" boxSize="20" until="ExitFound" exitNameHash="1317387500" />
			<MoveToMapMarker  questId="72546" stepId="17" markerNameHash="1317387500"  actorId="183032" isPortal="True" destinationWorldId="182976" />
			<WaitTimer questId="72546" stepId="17" waitTime="1000" />
			<MoveToMapMarker  questId="72546" stepId="17" markerNameHash="0"  actorId="183032" isPortal="True" destinationWorldId="182976" />
			<WaitTimer questId="72546" stepId="17" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(17) and CurrentWorldId == 180550">
			<LeaveGame reason="Stuck in Caverns of Araneae" />
			<WaitTimer questId="72546" stepId="17" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(17) and CurrentWorldId == 182976">
			<SafeMoveTo questId="72546" stepId="17" name="Chamber of Queen Araneae" pathPrecision="10" x="381" y="378" z="12" />
			<WaitTimer questId="72546" stepId="17" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(31) and CurrentWorldId == 182976">
			<SafeMoveTo questId="72546" stepId="31" name="Kill Queen Araneae" pathPrecision="10" x="295" y="357" z="15" />
			<!-- TalkTo Lady In Web -->
			<WaitTimer questId="72546" stepId="31" waitTime="35000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(31) and CurrentWorldId == 180550">
			<!-- Resume handling for Queen Araneae fight -->
			<!-- Chamber of Queen Araneae -->
			<MoveToMapMarker  questId="72546" stepId="31" markerNameHash="1317387500"  actorId="183032" isPortal="True" destinationWorldId="182976" />
			<WaitTimer questId="72546" stepId="31" waitTime="1000" />
			<MoveToMapMarker  questId="72546" stepId="31" markerNameHash="0"  actorId="183032" isPortal="True" destinationWorldId="182976" />
			<WaitTimer questId="72546" stepId="31" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(31) and CurrentWorldId == 182976">
			<SafeMoveTo questId="72546" stepId="31" name="Kill Queen Araneae" pathPrecision="10" x="295" y="357" z="15" />
			<!-- TalkTo Lady In Web -->
			<WaitTimer questId="72546" stepId="31" waitTime="35000" />
		</If>



		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(19) and CurrentWorldId == 180550">
			<!-- Death Handling for Queen Fight -->
			<!-- Chamber of Queen Araneae -->
			<MoveToMapMarker  questId="72546" stepId="19" markerNameHash="1317387500"  actorId="183032" isPortal="True" destinationWorldId="182976" />
			<WaitTimer questId="72546" stepId="19" waitTime="1000" />
			<MoveToMapMarker  questId="72546" stepId="19" markerNameHash="0"  actorId="183032" isPortal="True" destinationWorldId="182976" />
			<WaitTimer questId="72546" stepId="19" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(17) and CurrentWorldId == 180550">
			<LeaveGame reason="Stuck in Caverns of Araneae" />
			<WaitTimer questId="72546" stepId="17" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(19) and CurrentWorldId == 182976">
			<SafeMoveTo questId="72546" stepId="19" name="Kill Queen Araneae" pathPrecision="10" x="295" y="357" z="15" />
			<!-- Kill Queen Araneae -->
			<WaitTimer questId="72546" stepId="19" waitTime="265000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(21) and CurrentWorldId == 182976">
			<MoveToActor questId="72546" stepId="21" actorId="213490" x="321" y="342" z="12" />
			<!-- Harvest Pool of Venom -->
			<WaitTimer questId="72546" stepId="21" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(23) and CurrentWorldId == 182976">
			<MoveToActor questId="72546" stepId="23" actorId="104545" x="295" y="356" z="15" />
			<!-- Free Karyna from web -->
			<WaitTimer questId="72546" stepId="23" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(26) and CurrentWorldId == 182976">
			<WaitTimer questId="72546" stepId="26" waitTime="10000" />
			<MoveToActor questId="72546" stepId="26" actorId="175482" isPortal="True" destinationWorldId="71150" x="268" y="362" z="20" />
			<!-- Highlands Crossing -->
			<WaitTimer questId="72546" stepId="26" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(26) and CurrentWorldId == 71150">
			<SafeMoveTo questId="72546" stepId="26" name="Karyna" pathPrecision="10" x="2238" y="4948" z="20" />
			<!-- Move to Highlands Crossing / Karyna -->
			<WaitTimer questId="72546" stepId="26" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(47) and CurrentWorldId == 71150">
			<MoveToActor questId="72546" stepId="47" actorId="194263" x="2238" y="4948" z="20" />
			<!-- TalkTo Karyna -->
			<WaitTimer questId="72546" stepId="47" waitTime="1000" />
		</If>
		<ToggleTargeting questId="72546" stepId="29" looting="True" lootRadius="25" />
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150
			and ActorExistsAt(ZetaDia.Me.ActorSNO, 2231,4948,20,100)">
			<ToggleTargeting questId="72546" stepId="29" looting="True" lootRadius="25" />
			<SafeMoveTo questId="72546" stepId="29" pathPrecision="3"  x="2226" y="4949" z="20" />
			<SafeMoveTo questId="72546" stepId="29" pathPrecision="3"  x="2253" y="4958" z="20"/>
			<SafeMoveTo questId="72546" stepId="29" pathPrecision="3"  x="2363" y="4918" z="1"/>
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Find the Caravan and get the Staff -->
			<MoveToActor questId="72546" stepId="29" actorId="178151" maxSearchDistance="75" x="2399" y="4011" z="0" interactRange="25" endAnimation="trOut_Highlands_Mystic_Wagon_opening" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>		
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Find the Caravan and get the Staff  -->
			<MoveToActor questId="72546" stepId="29" actorId="178151" maxSearchDistance="75" x="2019" y="3976" z="0" interactRange="25" endAnimation="trOut_Highlands_Mystic_Wagon_opening" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Find the Caravan and get the Staff  -->
			<MoveToActor questId="72546" stepId="29" actorId="178151" maxSearchDistance="75" x="2030" y="4476" z="0" interactRange="25" endAnimation="trOut_Highlands_Mystic_Wagon_opening" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Find the Caravan and get the Staff -->
			<MoveToActor questId="72546" stepId="29" actorId="178151" maxSearchDistance="75" x="2394" y="3999" z="0" interactRange="25" endAnimation="trOut_Highlands_Mystic_Wagon_opening" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Find the Caravan and get the Staff -->
			<MoveToActor questId="72546" stepId="29" actorId="178151" maxSearchDistance="75" x="2038" y="4014" z="0" interactRange="25" endAnimation="trOut_Highlands_Mystic_Wagon_opening" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Find the Caravan and get the Staff -->
			<LeaveGame reason="Stuck searching for Khasra Staff" />
		</If>


		<!-- This always gets me stuck :( -->
		<!--
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!- - Find the Caravan - ->
			<ExploreArea questId="72546" stepId="29" until="ObjectFound" actorId="178151" boxSize="45" boxTolerance="0.18" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>
		-->
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(29) and CurrentWorldId == 71150">
			<!-- Get the Staff -->
			<MoveToActor questId="72546" stepId="29" actorId="178151" interactRange="20" />
			<WaitTimer questId="72546" stepId="29" waitTime="1000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(36) and CurrentWorldId == 71150 and CurrentLevelAreaId == 93632">
			<!-- Approach the Barricade -->
			<SafeMoveTo questId="72546" stepId="36" x="2391" y="4574" z="-1" />
			<SafeMoveTo questId="72546" stepId="36" name="Approach the Barricade" pathPrecision="10" x="1921" y="4075" z="-0" />
			<WaitTimer questId="72546" stepId="36" waitTime="10000" />
		</If>

		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(36) and CurrentWorldId == 71150">
			<!-- Approach the Barricade -->
			<SafeMoveTo questId="72546" stepId="36" name="Approach the Barricade" pathPrecision="10" x="1921" y="4075" z="-0" />
			<WaitTimer questId="72546" stepId="36" waitTime="10000" />
		</If>

		<!-- Death/Newgame handling -->
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(10) and ZetaDia.Me.IsInTown">
			<UseWaypoint questId="72546" stepId="10" waypointNumber="11" x="2981" y="2835" z="24" />
		</If>


		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(10) and CurrentWorldId == 71150">
			<SafeMoveTo questId="72546" stepId="10" name="Leoric's Manor Courtyard" pathPrecision="10" x="1079" y="3594" z="82" />
			<!-- Leoric's Manor Courtyard -->
			<WaitTimer questId="72546" stepId="10" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(51) and CurrentWorldId == 71150">
			<!-- Go into Leoric's Manor -->
			<MoveToActor questId="72546" stepId="51" actorId="176001" isPortal="True" destinationWorldId="75049" x="1081" y="3381" z="65" />
			<WaitTimer questId="72546" stepId="51" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(34) and CurrentWorldId == 71150">
			<!-- Go into Leoric's Manor - new game /resume handling -->
			<MoveToActor questId="72546" stepId="34" actorId="176001" isPortal="True" destinationWorldId="75049" x="1081" y="3381" z="65" />
			<WaitTimer questId="72546" stepId="34" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(34) and CurrentWorldId == 75049">
			<SafeMoveTo questId="72546" stepId="34" name="Leoric's Manor Courtyard" pathPrecision="10" x="412" y="364" z="12" />
			<!-- Explore Leoric's Manor -->
			<WaitTimer questId="72546" stepId="34" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72546) and IsActiveQuestStep(43) and CurrentWorldId == 75049">
			<SafeMoveTo questId="72546" stepId="43" name="Kill the cultists" pathPrecision="10" x="412" y="364" z="12" />
			<!-- Kill the cultists -->
			<WaitTimer questId="72546" stepId="43" waitTime="125000" />
		</If>

		<!-- 72801 -->

		<!-- The Imprisoned Angel -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(-1) and ZetaDia.Me.IsInTown">
			<UseWaypoint questId="72801" stepId="-1" x="2980" y="2834" z="24" waypointNumber="13" />
			<WaitTimer questId="72801" stepId="-1" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(-1) and CurrentWorldId == 75049">
			<!-- TalkTo Wounded Man -->
			<TalkTo questId="72801" stepId="-1" actorId="2861" x="368" y="357" z="12" />
			<WaitTimer questId="72801" stepId="-1" waitTime="10000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(-1) and ZetaDia.Me.IsInTown">
			<!-- Talk to Leah -->
			<MoveToActor questId="72801" stepId="-1" actorId="4580" x="2952" y="2800" z="24" />
			<WaitTimer questId="72801" stepId="-1" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(1) and CurrentWorldId == 75049">
			<!-- GoTo Halls of Agony Level 1 -->
			<MoveToActor questId="72801" stepId="1" actorId="176005" isPortal="True" destinationWorldId="2826" x="446" y="383" z="-25" />
			<WaitTimer questId="72801" stepId="1" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(21) and CurrentWorldId == 2826">
			<!-- Find Halls of Agony Level 2 -->
			<ExploreArea questId="72801" stepId="21" boxTolerance="0.18" boxSize="18" until="ExitFound" exitNameHash="-526084387" />
			<MoveToMapMarker questId="72801" stepId="21" markerNameHash="-526084387" actorId="175482" isPortal="True" destinationWorldId="58982"  />
			<WaitTimer questId="72801" stepId="21" waitTime="1000" />
			<MoveToMapMarker questId="72801" stepId="21" markerNameHash="0" actorId="175482" isPortal="True" destinationWorldId="58982"  />
			<WaitTimer questId="72801" stepId="21" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(21) and CurrentWorldId == 2826">
			<LeaveGame reason="Stuck in Halls of Agony Level 1" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(65) and CurrentWorldId == 58982">
			<!-- Find Highlands Passage -->
			<ExploreArea questId="72801" stepId="65" boxTolerance="0.18" boxSize="18" until="ExitFound" exitNameHash="1241437688" />
			<MoveToMapMarker questId="72801" stepId="65" markerNameHash="1241437688" actorId="176001" isPortal="True" destinationWorldId="87707"  />
			<WaitTimer questId="72801" stepId="65" waitTime="1000" />
			<MoveToMapMarker questId="72801" stepId="65" markerNameHash="0" actorId="176001" isPortal="True" destinationWorldId="87707"  />
			<WaitTimer questId="72801" stepId="65" waitTime="5000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(65) and CurrentWorldId == 58982">
			<LeaveGame reason="Stuck in Halls of Agony Level 2" />
		</If>
		<!-- Death Handling: Use Waypoint to Halls of Agony Level 2 -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(2) and ZetaDia.Me.IsInTown">
			<UseWaypoint questId="72801" stepId="2" x="2980" y="2834" z="24" actorId="223757" waypointNumber="14" />
			<WaitTimer questId="72801" stepId="2" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(2) and CurrentWorldId == 58982">
			<!-- Halls of Agony 2 -->
			<!-- Find Highlands Passage -->
			<ExploreArea questId="72801" stepId="2" boxTolerance="0.18" boxSize="18" until="ExitFound" exitNameHash="1241437688" />
			<MoveToMapMarker questId="72801" stepId="2" markerNameHash="1241437688" actorId="176001" isPortal="True" destinationWorldId="87707"  />
			<WaitTimer questId="72801" stepId="2" waitTime="1000" />
			<MoveToMapMarker questId="72801" stepId="2" markerNameHash="0" actorId="176001" isPortal="True" destinationWorldId="87707"  />
			<WaitTimer questId="72801" stepId="2" waitTime="5000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(2) and CurrentWorldId == 58982">
			<LeaveGame reason="Stuck in Halls of Agony Level 2" />
		</If>

		<!-- The Cursed Hold -->
		<!-- Enter the Cursed Hold -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(2) and CurrentWorldId == 87707">
			<SafeMoveTo questId="72801" stepId="2" name="Cursed Hold" pathPrecision="10" x="213" y="263" z="-25" />
			<MoveToActor questId="72801" stepId="2" actorId="176001" isPortal="True" destinationWorldId="94676" x="213" y="263" z="-25" />
			<WaitTimer questId="72801" stepId="2" waitTime="10000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(34) and CurrentWorldId == 94676">
			<WaitTimer questId="72801" stepId="34" waitTime="1000" />
			<TalkTo questId="72801" stepId="34" actorId="103381" x="98" y="597" z="0" />
			<!-- TalkTo Queen Asylla -->
			<WaitTimer questId="72801" stepId="34" waitTime="250" />
		</If>

		<!-- Free 6 prisoner's remains -->
		<!-- Lets just go ahead and search EVERY GODDAMN LITTLE CORNER of this place for these guys -->
		<!-- South East Side -->
		<!-- North East Corner -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="159" y="555" z="0" maxSearchDistance="40" endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="156" y="634" z="0" maxSearchDistance="40" endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="186" y="634" z="0" maxSearchDistance="40" endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="186" y="560" z="0" maxSearchDistance="40" endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="368" y="758" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="319" y="759" z="0" maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="280" y="752" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="275" y="821" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="320" y="754" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="316" y="825" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="398" y="753" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="401" y="824" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02"/>
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="441" y="753" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="439" y="824" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="442" y="854" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="438" y="923" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="397" y="923" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="400" y="852" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="323" y="924" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="318" y="855" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="278" y="854" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="277" y="920" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<!-- North West Side -->


		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="398.4272" y="309.9959" z="0.09999993" maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="323" y="304" z="0" maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>

		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="391" y="441" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="435" y="440" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="440" y="399" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="440" y="318" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="439" y="276" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="436" y="201" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="399" y="202" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="398" y="275" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="397" y="398" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="323" y="399" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="321" y="320" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="318" y="440" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="281" y="437" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="277" y="399" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="280" y="315" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="277" y="275" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="275" y="198" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="318" y="199" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="359" y="205" z="0"  maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>


		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="398" y="319" z="0" maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927"  x="280" y="360" z="0" maxSearchDistance="40"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>





		<!-- Just in case we missed anything ... -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="239" y="875" z="0" maxSearchDistance="30"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="280" y="759" z="0" maxSearchDistance="30"  endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="239" y="875" z="0" maxSearchDistance="30" endAnimation="Ghost_Jail_Prisoner_Container_dead_02" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="399" y="954" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="435" y="885" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="438" y="766" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="345" y="836" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="323" y="894" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="292" y="916" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="310" y="723" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="365" y="584" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="368" y="420" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="348" y="359" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="402" y="359" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="482" y="344" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="434" y="219" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="403" y="202" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="297" y="239" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="312" y="202" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="242" y="358" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(17) and CurrentWorldId == 94676">
			<MoveToActor questId="72801" stepId="17" actorId="102927" x="278" y="396" z="0" maxSearchDistance="30" />
			<WaitTimer questId="72801" stepId="17" waitTime="250" />
		</If>
		<MoveToActor questId="72801" stepId="17" actorId="102927" x="319.7791" y="444.4834" z="0.1000001" maxSearchDistance="30" />
		
		<!-- Kill the Warden -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(19) and CurrentWorldId == 94676">
			<SafeMoveTo questId="72801" stepId="19" name="Warden" pathPrecision="10" x="361" y="598" z="0"  />
			<WaitTimer questId="72801" stepId="19" waitTime="265000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(36) and CurrentWorldId == 94676">
			<SafeMoveTo questId="72801" stepId="36" name="Hold 1" pathPrecision="10" x="621" y="580" z="0" />
			<SafeMoveTo questId="72801" stepId="36" name="Hold 2" pathPrecision="10" x="550" y="573" z="-47" />
			<SafeMoveTo questId="72801" stepId="36" name="Hold 2" pathPrecision="10" x="541" y="577" z="-49" />
			<MoveToActor questId="72801" stepId="36" actorId="175999" isPortal="True" destinationWorldId="58983" interactRange="20" x="541" y="577" z="-49" />
			<!-- Chamber of Suffering / Halls of Agony Level 3 -->
			<WaitTimer questId="72801" stepId="36" waitTime="1000" />
		</If>
		<!-- Halls of Agony 3 Try #1 -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(36) and CurrentWorldId == 58983">
			<!-- Find Chamber of Suffering -->
			<ExploreArea questId="72801" stepId="36" boxTolerance="0.18" boxSize="18" until="ExitFound" actorId="158944" exitNameHash="356899046" />
			<!-- Enter Chamber of Suffering -->
			<MoveToMapMarker questId="72801" stepId="36" actorId="158944" interactRange="15" isPortal="True" destinationWorldId="78839"  markerNameHash="356899046" />
			<WaitTimer questId="72801" stepId="36" waitTime="1000" />
			<MoveToMapMarker questId="72801" stepId="36" actorId="158944" interactRange="15" isPortal="True" destinationWorldId="78839"  markerNameHash="0" />
			<WaitTimer questId="72801" stepId="36" waitTime="1000" />
			<MoveToActor  questId="72801" stepId="36" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(36) and CurrentWorldId == 58983">
			<LeaveGame reason="Stuck in Halls of Agony Level 3" />
			<WaitTimer questId="72801" stepId="36" waitTime="11000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(36) and CurrentWorldId == 78839">
			<WaitWhile questId="72801" stepId="36" condition="IsActiveQuest(72801) and IsActiveQuestStep(36) and CurrentWorldId == 78839" />
		</If>
		<While condition="IsActiveQuest(72801) and IsActiveQuestStep(7) and CurrentWorldId == 58983">
			<!-- Chamber of Suffering Death Handling: The mapMarker & actor are always visible on death... -->
			<MoveToMapMarker questId="72801" stepId="7" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839"  markerNameHash="356899046" />
			<WaitTimer questId="72801" stepId="7" waitTime="1000" />
			<MoveToMapMarker questId="72801" stepId="7" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839"  markerNameHash="0" />
			<WaitTimer questId="72801" stepId="7" waitTime="1000" />
			<MoveToActor  questId="72801" stepId="7" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839" />
		</While>
		<!-- Kill the Butcher -->
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(7) and CurrentWorldId == 78839">
			<WaitTimer questId="72801" stepId="7" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(7) and CurrentWorldId == 78839">

			<WaitTimer questId="72801" stepId="7" waitTime="1000" />
			<SafeMoveTo questId="72801" stepId="7" name="Kill Butcher" pathPrecision="10" x="120" y="120" z="0" />
			<WaitWhile questId="72801" stepId="7" condition="IsActiveQuest(72801) and IsActiveQuestStep(7) and CurrentWorldId == 78839" />
		</If>


		<While condition="IsActiveQuest(72801) and IsActiveQuestStep(41) and CurrentWorldId == 58983">
			<!-- Chamber of Suffering Death Handling: The mapMarker & actor are always visible on death... -->
			<!-- Find the Stranger -->
			<MoveToMapMarker questId="72801" stepId="41" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839"  markerNameHash="356899046" />
			<WaitTimer questId="72801" stepId="41" waitTime="1000" />
			<MoveToMapMarker questId="72801" stepId="41" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839"  markerNameHash="0" />
			<WaitTimer questId="72801" stepId="41" waitTime="1000" />
			<MoveToActor  questId="72801" stepId="41" actorId="158944" interactRange="15" isPortal="True" pathPointLimit="50" destinationWorldId="78839" />
		</While>



		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(41) and CurrentWorldId == 78839">
			<!-- Find the Stranger -->
			<!-- CoS -->
			<MoveToActor questId="72801" stepId="41" actorId="175999" isPortal="True" destinationWorldId="135713" x="41" y="40" z="0" />
			<!-- Goto Cells of the Condemned -->
			<WaitTimer questId="72801" stepId="41" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(41) and CurrentWorldId == 135713">
			<SafeMoveTo questId="72801" stepId="41" name="Find the Stranger" pathPrecision="10" x="339" y="81" z="-24" />
			<!-- Find the Stranger -->
			<WaitTimer questId="72801" stepId="41" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(39) and CurrentWorldId == 135713">
			<SafeMoveTo questId="72801" stepId="39" name="Kill the Cultists" pathPrecision="10" x="339" y="81" z="-24" />
			<!-- Kill the Cultists -->
			<WaitTimer questId="72801" stepId="39" waitTime="65000" />
		</If>
		<If condition="IsActiveQuest(72801) and IsActiveQuestStep(11) and CurrentWorldId == 135713">
			<!-- Talk to Tyrael -->
			<TalkTo questId="72801" stepId="11" actorId="183117" x="339" y="81" z="-24" />
			<WaitTimer questId="72801" stepId="11" waitTime="60000" />
		</If>

		<!-- 136656 -->

		<While condition="IsActiveQuest(136656) and IsActiveQuestStep(-1) and CurrentWorldId == 135713">
			<!-- Talk to Tyrael -->
			<TalkTo questId="136656" stepId="-1" actorId="183125" x="339" y="81" z="-24" />
			<AdvanceConversation numTimes="20" questId="136656" stepId="-1" />
		</While>
		<!-- Cells of the Condemned -->
		<!-- Return to New Tristram -->
		<If condition="IsActiveQuest(136656) and IsActiveQuestStep(1) and CurrentWorldId == 135713">
			<MoveToActor questId="136656" stepId="1" actorId="196657" isPortal="True" destinationWorldId="71150" x="338" y="61" z="-24" />
			<WaitTimer questId="136656" stepId="1" waitTime="1000" />
		</If>
		<If condition="IsActiveQuest(136656) and IsActiveQuestStep(1) and CurrentWorldId == 71150">
			<TalkTo questId="136656" stepId="1" actorId="6353" x="2941" y="2797" z="24" />
			<!-- Talk to Tyrael in Town -->
			<WaitTimer questId="136656" stepId="1" waitTime="1000" />
		</If>

		<While condition="IsActiveQuest(136656) and IsActiveQuestStep(8) and CurrentWorldId == 71150">
			<TalkTo questId="136656" stepId="8" actorId="177544" x="2952" y="2851" z="23" />
			<ConfirmOK  questId="136656" stepId="8" />
			<!-- Talk to the Caravan Leader -->
			<WaitTimer questId="136656" stepId="8" waitTime="1000" />
			<!--
			<ConfirmOK  questId="136656" stepId="8" />
			<WaitTimer questId="136656" stepId="8" waitTime="1000" />
			<LoadProfile profile="Act2_rrrix.xml" />
			-->
		</While>
		<If condition="not IsActiveQuest(136656) and not IsActiveQuestStep(8) and not CurrentWorldId == 71150">
			<LogMessage message="Reloading Profile, something unexpected happened!" />
			<ReloadProfile />
			<LeaveGame reason="Something unexpected happened" />
		</If>
		<ReloadProfile />
	</Order>
</Profile>